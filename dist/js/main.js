define("countdown/defaults",{auto:!0,appoint:Date.now()+864e7,current:Date.now(),days:'<div class="digit days">',hours:'<div class="digit hours">',minutes:'<div class="digit minutes">',seconds:'<div class="digit seconds">',marker:{seconds:"",minutes:":",hours:":",days:"-"},canvas:'<canvas id="canvas" class="canvas" width="600" height="300"><p>您的浏览器不支持Canvas！</p></canvas>',template:'<div class="unit">  <div class="unit-top">    <span class="unit-wrap"></span>  </div>  <div class="unit-shadow-top"></div>  <div class="unit-bottom">    <span class="unit-wrap"></span>  </div>  <div class="unit-shadow-bottom"></div><div>'}),define("countdown/prototype",[],function(){return{init:function(){var n=this;n.appoint=new Date(n.settings.appoint),n.current=new Date(n.settings.current),n.build(),n.refresh(),n.start()},build:function(){var n=this;console.log(n.element),n.$canvas=$(n.settings.canvas),n.$canvas.appendTo(n.element);var t=$(window).innerWidth(),s=$(window).innerHeight();n.$canvas[0].width=t,n.$canvas[0].height=s,n.$canvas.css({display:"block",width:t,height:s}),n.canvas=n.$canvas.get(0),n.ctx=n.canvas.getContext("2d")},start:function(){var n=this;n.refresh(),n.settings.auto&&(n.timer=setInterval(function(){n.refresh()},1e3))},render:function(){var n=this,t={days:{x:200,y:100},hours:{x:380,y:100},minutes:{x:460,y:100},seconds:{x:540,y:100}};n.renderCanvas(n.days,t.days,n.settings.marker.days),n.renderCanvas(n.hours,t.hours,n.settings.marker.hours),n.renderCanvas(n.minutes,t.minutes,n.settings.marker.minutes),n.renderCanvas(n.seconds,t.seconds,n.settings.marker.seconds)},cleanCanvas:function(){var n=this,t=n.ctx;t.clearRect(0,0,n.canvas.width,n.canvas.height)},setRenderStyle:function(){var n=this,t=n.ctx;t.font="50px Arial",t.fillStyle="#333333"},renderCanvas:function(n,t,s){var e=this,i=e.ctx;e.setRenderStyle(),n=10>n?"0"+n:n,i.fillText(n+s,t.x,t.y)},refreshCanvas:function(){var n=this;n.cleanCanvas(),n.render()},renderUnit:function(n,t,s,e){if("undefined"!=typeof n){var i=this,a=i.splitNum(t);$.each(a,function(t,s){var a=9;e&&(a=$.isArray(e)?e[t]:e);var r=i.clone(a);r.data("value",s),n.append(r)}),n.append('<div class="split">'+s+"</div>")}},clone:function(n){for(var t=this,s=$('<div class="unit-set">'),e=0;n>=e;e++)s.append(t.settings.template),$(".unit:last",s).find(".unit-wrap").text(e);return s},refresh:function(){var n=this;n.calculate(Date.now()),n.refreshCanvas()},refreshUnit:function(n,t){var s=this;if("undefined"!=typeof n){var e=s.splitNum(t),i=e.length-n.find(".unit-set").length;i>0?n.find(".unit-set").slice(0,i).clone().prependTo(n):0>i&&n.find(".unit-set").slice(i).remove();var a=n.find(".unit-set");$.each(e,function(n,t){var e=a.eq(n).find(".unit");if(e.data("value")==t)return!0;e.data("value",t);var i=t-1,r=t==e.length-1?0:t+1;e.removeClass("active previous following"),s.comming?e.eq(r).addClass("following"):e.eq(i).addClass("previous"),e.eq(t).addClass("active")})}},splitNum:function(n){var t=[],s=0;do s=n%10,n=parseInt(n/10),t.push(s);while(n>=1);return t.length<=1&&t.push(0),t.reverse(),t},calculate:function(n){var t=this;n=n||t.current,t.comming=n<t.appoint;var s=Math.abs(n-t.appoint),e=s/1e3;t.seconds=Math.floor(e)%60,t.minutes=Math.floor(e/60)%60,t.hours=Math.floor(e/3600)%24,t.days=Math.floor(e/86400)}}}),define("countdown/constructor",["./defaults","./prototype"],function(n,t){var s=function(t,s){this.timer=null,this.comming=!0,this.element=t,this.defaults=n,this.options=s,this.settings=$.extend({},this.defaults,this.options)};return s.prototype=t,s}),define("app",["jquery","countdown/constructor"],function(n,t){n.fn.countdown=function(s){return this.each(function(){var e=new t(this,s);n(this).data("countdown")||n(this).data("countdown",e),e.init()})}}),requirejs.config({baseUrl:"../dist/js",paths:{jquery:"../../libs/jquery/dist/jquery.min"},shim:{}}),requirejs(["app"],function(){$("<div>",{id:"countdown","class":"countdown"}).prependTo(document.body).countdown({appoint:"1988/09/07 00:00:00"})}),define("main.js",function(){});