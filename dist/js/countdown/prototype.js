define("countdownprototype.js",[],function(){return{init:function(){var e=this;e.appoint=new Date(e.settings.appoint),e.current=new Date(e.settings.current),e.build(),e.render(),e.start()},build:function(){var e=this;e.settings.days&&(e.$days=$(e.settings.days),e.$days.appendTo(e.element)),e.settings.hours&&(e.$hours=$(e.settings.hours),e.$hours.appendTo(e.element)),e.settings.minutes&&(e.$minutes=$(e.settings.minutes),e.$minutes.appendTo(e.element)),e.settings.seconds&&(e.$seconds=$(e.settings.seconds),e.$seconds.appendTo(e.element))},start:function(){var e=this;e.refresh(),e.settings.auto&&(e.timer=setInterval(function(){e.refresh()},1e3))},render:function(){var e=this;e.calculate(),e.renderUnit(e.$days,e.days,e.settings.marker.days,9),e.renderUnit(e.$hours,e.hours,e.settings.marker.hours,[2,9]),e.renderUnit(e.$minutes,e.minutes,e.settings.marker.minutes,[5,9]),e.renderUnit(e.$seconds,e.seconds,e.settings.marker.seconds,[5,9]),$(e.element).css({width:$(e.element).outerWidth(),"margin-top":-$(e.element).height()/2,"margin-left":-$(e.element).width()/2,left:"50%",top:"50%"})},renderUnit:function(e,t,n,s){if("undefined"!=typeof e){var i=this,r=i.splitNum(t);$.each(r,function(t,n){var r=9;s&&(r=$.isArray(s)?s[t]:s);var a=i.clone(r);a.data("value",n),e.append(a)}),e.append('<div class="split">'+n+"</div>")}},clone:function(e){for(var t=this,n=$('<div class="unit-set">'),s=0;e>=s;s++)n.append(t.settings.template),$(".unit:last",n).find(".unit-wrap").text(s);return n},refresh:function(){var e=this;e.calculate(Date.now()),e.refreshUnit(e.$days,e.days),e.refreshUnit(e.$hours,e.hours),e.refreshUnit(e.$minutes,e.minutes),e.refreshUnit(e.$seconds,e.seconds)},refreshUnit:function(e,t){var n=this;if("undefined"!=typeof e){var s=n.splitNum(t),i=s.length-e.find(".unit-set").length;i>0?e.find(".unit-set").slice(0,i).clone().prependTo(e):0>i&&e.find(".unit-set").slice(i).remove();var r=e.find(".unit-set");$.each(s,function(e,t){var s=r.eq(e).find(".unit");if(s.data("value")==t)return!0;s.data("value",t);var i=t-1,a=t==s.length-1?0:t+1;s.removeClass("active previous following"),n.comming?s.eq(a).addClass("following"):s.eq(i).addClass("previous"),s.eq(t).addClass("active")})}},splitNum:function(e){var t=[],n=0;do n=e%10,e=parseInt(e/10),t.push(n);while(e>=1);return t.length<=1&&t.push(0),t.reverse(),t},calculate:function(e){var t=this;e=e||t.current,t.comming=e<t.appoint;var n=Math.abs(e-t.appoint),s=n/1e3;t.seconds=Math.floor(s)%60,t.minutes=Math.floor(s/60)%60,t.hours=Math.floor(s/3600)%24,t.days=Math.floor(s/86400)}}});