define("countdown/defaults",{auto:!0,appoint:Date.now()+864e7,current:Date.now(),days:'<div class="digit days">',hours:'<div class="digit hours">',minutes:'<div class="digit minutes">',seconds:'<div class="digit seconds">',marker:{seconds:"",minutes:":",hours:":",days:"-"},template:'<div class="unit">  <div class="unit-top">    <span class="unit-wrap"></span>  </div>  <div class="unit-shadow-top"></div>  <div class="unit-bottom">    <span class="unit-wrap"></span>  </div>  <div class="unit-shadow-bottom"></div><div>'}),define("countdown/prototype",[],function(){return{init:function(){var e=this;e.appoint=new Date(e.settings.appoint),e.current=new Date(e.settings.current),e.build(),e.render(),e.start()},build:function(){var e=this;e.settings.days&&(e.$days=$(e.settings.days),e.$days.appendTo(e.element)),e.settings.hours&&(e.$hours=$(e.settings.hours),e.$hours.appendTo(e.element)),e.settings.minutes&&(e.$minutes=$(e.settings.minutes),e.$minutes.appendTo(e.element)),e.settings.seconds&&(e.$seconds=$(e.settings.seconds),e.$seconds.appendTo(e.element))},start:function(){var e=this;e.refresh(),e.settings.auto&&(e.timer=setInterval(function(){e.refresh()},1e3))},render:function(){var e=this;e.calculate(),e.renderUnit(e.$days,e.days,e.settings.marker.days,9),e.renderUnit(e.$hours,e.hours,e.settings.marker.hours,[2,9]),e.renderUnit(e.$minutes,e.minutes,e.settings.marker.minutes,[5,9]),e.renderUnit(e.$seconds,e.seconds,e.settings.marker.seconds,[5,9]),$(e.element).css({width:$(e.element).outerWidth(),"margin-top":-$(e.element).height()/2,"margin-left":-$(e.element).width()/2,left:"50%",top:"50%"})},renderUnit:function(e,t,n,r){if(typeof e=="undefined")return;var i=this,s=i.splitNum(t);$.each(s,function(t,n){var s=9;r&&(s=$.isArray(r)?r[t]:r);var o=i.clone(s);o.data("value",n),e.append(o)}),e.append('<div class="split">'+n+"</div>")},clone:function(e){var t=this,n=$('<div class="unit-set">');for(var r=0;r<=e;r++)n.append(t.settings.template),$(".unit:last",n).find(".unit-wrap").text(r);return n},refresh:function(){var e=this;e.calculate(Date.now()),e.refreshUnit(e.$days,e.days),e.refreshUnit(e.$hours,e.hours),e.refreshUnit(e.$minutes,e.minutes),e.refreshUnit(e.$seconds,e.seconds)},refreshUnit:function(e,t){var n=this;if(typeof e=="undefined")return;var r=n.splitNum(t),i=r.length-e.find(".unit-set").length;i>0?(e.find(".unit-set").slice(0,i).clone().prependTo(e),console.debug(e.find(".unit-set").slice(0,1))):i<0&&e.find(".unit-set").slice(i).remove();var s=e.find(".unit-set");$.each(r,function(e,t){var r=s.eq(e).find(".unit");if(r.data("value")==t)return!0;r.data("value",t);var i=t-1,o=t==r.length-1?0:t+1;r.removeClass("active previous following"),n.comming?r.eq(o).addClass("following"):r.eq(i).addClass("previous"),r.eq(t).addClass("active")})},splitNum:function(e){var t=[],n=0;do n=e%10,e=parseInt(e/10),t.push(n);while(e>=1);return t.length<=1&&t.push(0),t.reverse(),t},calculate:function(e){var t=this;e=e||t.current,t.comming=e<t.appoint;var n=Math.abs(e-t.appoint),r=n/1e3;t.seconds=Math.floor(r)%60,t.minutes=Math.floor(r/60)%60,t.hours=Math.floor(r/3600)%24,t.days=Math.floor(r/86400)}}}),define("countdown/constructor",["./defaults","./prototype"],function(e,t){var n=function(t,n){this.timer=null,this.comming=!0,this.element=t,this.defaults=e,this.options=n,this.settings=$.extend({},this.defaults,this.options)};return n.prototype=t,n}),define("app",["jquery","countdown/constructor"],function(e,t){e.fn.countdown=function(n){return this.each(function(){var r=new t(this,n);e(this).data("countdown")||e(this).data("countdown",r),r.init()})}});