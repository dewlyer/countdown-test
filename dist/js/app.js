define("countdown/defaults",{auto:!0,appoint:Date.now()+864e7,current:Date.now(),days:'<div class="digit days">',hours:'<div class="digit hours">',minutes:'<div class="digit minutes">',seconds:'<div class="digit seconds">',marker:{seconds:"",minutes:":",hours:":",days:"-"},canvas:'<canvas id="canvas" class="canvas" width="600" height="300"><p>您的浏览器不支持Canvas！</p></canvas>',template:'<div class="unit">  <div class="unit-top">    <span class="unit-wrap"></span>  </div>  <div class="unit-shadow-top"></div>  <div class="unit-bottom">    <span class="unit-wrap"></span>  </div>  <div class="unit-shadow-bottom"></div><div>'}),define("countdown/prototype",[],function(){return{init:function(){var t=this;t.appoint=new Date(t.settings.appoint),t.current=new Date(t.settings.current),t.build(),t.refresh(),t.start()},build:function(){var t=this;console.log(t.element),t.$canvas=$(t.settings.canvas),t.$canvas.appendTo(t.element);var n=$(window).innerWidth(),s=$(window).innerHeight();t.$canvas[0].width=n,t.$canvas[0].height=s,t.$canvas.css({display:"block",width:n,height:s}),t.canvas=t.$canvas.get(0),t.ctx=t.canvas.getContext("2d")},start:function(){var t=this;t.refresh(),t.settings.auto&&(t.timer=setInterval(function(){t.refresh()},1e3))},render:function(){var t=this,n={days:{x:200,y:100},hours:{x:380,y:100},minutes:{x:460,y:100},seconds:{x:540,y:100}};t.renderCanvas(t.days,n.days,t.settings.marker.days),t.renderCanvas(t.hours,n.hours,t.settings.marker.hours),t.renderCanvas(t.minutes,n.minutes,t.settings.marker.minutes),t.renderCanvas(t.seconds,n.seconds,t.settings.marker.seconds)},cleanCanvas:function(){var t=this,n=t.ctx;n.clearRect(0,0,t.canvas.width,t.canvas.height)},setRenderStyle:function(){var t=this,n=t.ctx;n.font="50px Arial",n.fillStyle="#333333"},renderCanvas:function(t,n,s){var e=this,a=e.ctx;e.setRenderStyle(),t=10>t?"0"+t:t,a.fillText(t+s,n.x,n.y)},refreshCanvas:function(){var t=this;t.cleanCanvas(),t.render()},renderUnit:function(t,n,s,e){if("undefined"!=typeof t){var a=this,i=a.splitNum(n);$.each(i,function(n,s){var i=9;e&&(i=$.isArray(e)?e[n]:e);var r=a.clone(i);r.data("value",s),t.append(r)}),t.append('<div class="split">'+s+"</div>")}},clone:function(t){for(var n=this,s=$('<div class="unit-set">'),e=0;t>=e;e++)s.append(n.settings.template),$(".unit:last",s).find(".unit-wrap").text(e);return s},refresh:function(){var t=this;t.calculate(Date.now()),t.refreshCanvas()},refreshUnit:function(t,n){var s=this;if("undefined"!=typeof t){var e=s.splitNum(n),a=e.length-t.find(".unit-set").length;a>0?t.find(".unit-set").slice(0,a).clone().prependTo(t):0>a&&t.find(".unit-set").slice(a).remove();var i=t.find(".unit-set");$.each(e,function(t,n){var e=i.eq(t).find(".unit");if(e.data("value")==n)return!0;e.data("value",n);var a=n-1,r=n==e.length-1?0:n+1;e.removeClass("active previous following"),s.comming?e.eq(r).addClass("following"):e.eq(a).addClass("previous"),e.eq(n).addClass("active")})}},splitNum:function(t){var n=[],s=0;do s=t%10,t=parseInt(t/10),n.push(s);while(t>=1);return n.length<=1&&n.push(0),n.reverse(),n},calculate:function(t){var n=this;t=t||n.current,n.comming=t<n.appoint;var s=Math.abs(t-n.appoint),e=s/1e3;n.seconds=Math.floor(e)%60,n.minutes=Math.floor(e/60)%60,n.hours=Math.floor(e/3600)%24,n.days=Math.floor(e/86400)}}}),define("countdown/constructor",["./defaults","./prototype"],function(t,n){var s=function(n,s){this.timer=null,this.comming=!0,this.element=n,this.defaults=t,this.options=s,this.settings=$.extend({},this.defaults,this.options)};return s.prototype=n,s}),define("app.js",["jquery","countdown/constructor"],function(t,n){t.fn.countdown=function(s){return this.each(function(){var e=new n(this,s);t(this).data("countdown")||t(this).data("countdown",e),e.init()})}});